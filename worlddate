#!/usr/bin/perl
use strict;
use warnings;
use DateTime;
use DateTime::TimeZone;
use Term::ANSIColor;

my @tz = (
    'UTC',
    'Pacific/Honolulu',
    [ 'America/Los_Angeles' ],
    'America/Chicago',
    'America/New_York',
    'Europe/London',
    'Europe/Paris',
    'Europe/Berlin',
    'Europe/Rome',
    'Europe/Madrid',
    'Asia/Jakarta',
    'Asia/Bangkok',
    'Asia/Taipei',
    'Asia/Shanghai',
    'Asia/Hong_Kong',
    [ 'Asia/Tokyo' ],
    'Australia/Sydney',
    'Pacific/Auckland',
);

my $dt = DateTime->now;
for my $tz (@tz) {
    my $color;
    if (ref $tz) {
        $tz = $tz->[0];
        $color = 1;
    }
    $dt->set_time_zone($tz);
    print color 'yellow' if $color;
    print $dt->strftime("%Y/%m/%d (%a) %H:%M:%S "), $dt->time_zone->name, ($dt->is_dst ? '*' : ''), "\n";
    print color 'reset' if $color;
}
